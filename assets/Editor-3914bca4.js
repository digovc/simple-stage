import{d as w,r as u,u as x,o as y,c as k,a,w as B,v as b,b as d,e as f,f as C,g as v}from"./index-a6320993.js";import{P as M,S}from"./SecundaryButton-f63e0f75.js";import{m as p}from"./music.repository-18d4a6a0.js";const V={class:"h-full p-4 space-y-4 flex flex-col"},E=a("div",null," Editor ",-1),N={class:"grow border rounded focus-within:shadow outline-1 overflow-x-hidden"},R={class:"flex justify-end space-x-2"},D=w({__name:"Editor",setup(P){const n=u(""),o=u(""),l=x(),m=()=>{l.back()},c=t=>{const e=o.value.split(`
`);if(e.length>t)return e[t]},_=()=>{var e;if(n.value=((e=l.currentRoute.value.params.id)==null?void 0:e.toString())??"",!n.value)return;const t=p.getById(n.value);o.value=(t==null?void 0:t.content)??""},h=()=>{var i;if(!o.value)return;const t=c(0),e=c(1),r=((i=c(2))==null?void 0:i.split(" ").map(s=>s==null?void 0:s.trim()).filter(s=>s))??[],g={id:n.value,title:t,artist:e,tags:r,content:o.value};p.save(g),l.back()};return y(()=>{_()}),(t,e)=>(C(),k("div",V,[E,a("div",N,[B(a("textarea",{class:"w-full h-full p-2 pt-1 -mb-1.5 outline-none resize-none font-mono text-gray-700","onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r)},null,512),[[b,o.value]])]),a("div",R,[d(M,{onClick:h},{default:f(()=>[v(" Save ")]),_:1}),d(S,{onClick:m},{default:f(()=>[v(" Cancel ")]),_:1})])]))}});export{D as default};
