import{p as g}from"./playlist.repository-96d101bd.js";import{d as x,u as k,c,b as y,e as f,f as n,g as v,r as h,o as C,a as s,t as p,k as I,m as $,F as B,j as b}from"./index-bfed1039.js";import{_ as w,m as M}from"./music.repository-3056144a.js";import{_ as N}from"./DangerButton.vue_vue_type_script_setup_true_lang-23fb6551.js";const P={class:"space-x-2"},R=x({__name:"PlaylistMenu",props:{playlist:{type:Object,required:!0}},setup(_){const e=_,a=k(),l=()=>{a.replace("/home")},u=()=>{confirm(`Are you sure you want to delete ${e.playlist.title}?`)&&(g.delete(e.playlist.id),a.replace("/home"))};return(d,m)=>(n(),c("div",P,[y(w,{onClick:l},{default:f(()=>[v(" Close ")]),_:1}),y(N,{onClick:u},{default:f(()=>[v(" Delete ")]),_:1})]))}}),V={class:"space-y-4 p-4"},j={class:"text-2xl"},S=s("div",{class:"text-lg"}," Songs ",-1),q={class:"space-y-2"},D=["onClick"],F={class:"flex justify-between grow"},T={class:"text-lg"},A={class:"text-sm pt-1 text-gray-600"},G=x({__name:"Playlist",setup(_){const e=h(null),a=k(),l=h([]),u=()=>{if(e.value!==null&&!(!e.value.musicIds||e.value.musicIds.length===0)){l.value=[];for(const o of e.value.musicIds){if(!o)continue;const t=M.getById(o);t&&l.value.push(t)}}},d=()=>{var t;const o=((t=a.currentRoute.value.params.id)==null?void 0:t.toString())??"";e.value=g.getById(o)},m=o=>{var i;const t=`/render/${o.id}`;a.push({path:t,query:{playlistId:(i=e.value)==null?void 0:i.id}})};return C(()=>{d(),u()}),(o,t)=>{var i;return n(),c("div",V,[s("div",j,p((i=e.value)==null?void 0:i.title),1),s("div",null,[e.value?(n(),I(R,{key:0,playlist:e.value},null,8,["playlist"])):$("",!0)]),S,s("div",null,[s("ul",q,[(n(!0),c(B,null,b(l.value,r=>(n(),c("li",{key:r.id,class:"bg-gray-100 p-2 rounded cursor-pointer flex hover:shadow",onClick:E=>m(r)},[s("div",F,[s("div",T,p(r.title),1),s("div",A,p(r.artist),1)])],8,D))),128))])])])}}});export{G as default};
