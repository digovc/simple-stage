import{d as g,r as u,o as w,c as k,a as n,w as y,v as b,b as d,e as f,u as C,f as B,g as v}from"./index-44943987.js";import{_ as M,a as V}from"./SecundaryButton.vue_vue_type_script_setup_true_lang-50392d84.js";import{m}from"./music.repository-8bd5a1b9.js";const E={class:"h-full p-2 space-y-2 flex flex-col"},N=n("div",{class:"text-2xl"}," Editor ",-1),R={class:"grow border rounded focus-within:shadow outline-1 overflow-x-hidden"},S={class:"flex justify-end space-x-2"},D=g({__name:"Editor",setup(T){const a=u(""),o=u(""),c=C(),p=()=>{c.back()},l=t=>{const e=o.value.split(`
`);if(e.length>t)return e[t]},_=()=>{var e;if(a.value=((e=c.currentRoute.value.params.id)==null?void 0:e.toString())??"",!a.value)return;const t=m.getById(a.value);o.value=(t==null?void 0:t.content)??""},h=()=>{var r;if(!o.value)return;const t=l(0),e=l(1),i=((r=l(2))==null?void 0:r.split(" ").map(s=>s==null?void 0:s.trim()).filter(s=>s))??[],x={id:a.value,title:t,artist:e,tags:i,content:o.value};m.save(x),c.back()};return w(()=>{_()}),(t,e)=>(B(),k("div",E,[N,n("div",R,[y(n("textarea",{class:"w-full h-full p-2 pt-1 -mb-1.5 outline-none resize-none font-mono text-gray-700","onUpdate:modelValue":e[0]||(e[0]=i=>o.value=i),placeholder:"Put your music here..."},null,512),[[b,o.value]])]),n("div",S,[d(M,{onClick:h},{default:f(()=>[v(" Save ")]),_:1}),d(V,{onClick:p},{default:f(()=>[v(" Cancel ")]),_:1})])]))}});export{D as default};
