import{_ as S,f as l,c,h as w,d as m,a as n,t as x,r as f,u as h,i as N,o as b,b as a,e as i,F as P,j as B,k as C,g as p,w as g,v as k,l as j,m as F}from"./index-6b815902.js";import{P as y,S as I}from"./SecundaryButton-683e2dd9.js";import{p as $}from"./playlist.repository-d045f3d3.js";import{S as L,m as R}from"./music.repository-18d4a6a0.js";import{t as T,_ as U}from"./Dialog.vue_vue_type_script_setup_true_lang-7e362d75.js";const A={},M={class:"p-2 border rounded cursor-pointer hover:shadow text-sm"};function O(d,t){return l(),c("div",M,[w(d.$slots,"default")])}const V=S(A,[["render",O]]),q={class:"space-y-4"},E={class:"text-2xl"},H={class:"grid grid-cols-4 gap-4"},D=m({__name:"List",props:{title:{type:String,required:!0}},setup(d){return(t,s)=>(l(),c("div",q,[n("div",E,x(d.title),1),n("div",H,[w(t.$slots,"default")])]))}}),z=m({__name:"Playlists",setup(d){const t=f([]),s=new L,u=h(),o=()=>{$.onCreated$.pipe(T(s)).subscribe(e=>{t.value.push(e)})},_=e=>{const r=e==null?void 0:e.id;r&&u.push(`/playlist/${r}`)};return N(()=>{s.next(),s.complete()}),b(async()=>{t.value=$.getAll(),o()}),(e,r)=>(l(),c("div",null,[a(D,{title:"Playlists"},{default:i(()=>[(l(!0),c(P,null,B(t.value,v=>(l(),C(V,{key:v.id,onClick:ie=>_(v)},{default:i(()=>[p(x(v.title),1)]),_:2},1032,["onClick"]))),128))]),_:1})]))}}),G={},J={class:"flex"},K=n("div",{class:"border rounded-full py-2 px-4 inline w-96 focus-within:shadow"},[n("input",{type:"text",placeholder:"Search",class:"w-full outline-none"})],-1),Q=[K];function W(d,t){return l(),c("div",J,Q)}const X=S(G,[["render",W]]),Y=m({__name:"Songs",setup(d){const t=f([]),s=h(),u=o=>{s.push(`/render/${o.id}`)};return b(async()=>{t.value=R.getAll()}),(o,_)=>(l(),c("div",null,[a(D,{title:"Songs"},{default:i(()=>[(l(!0),c(P,null,B(t.value,e=>(l(),C(V,{key:e.id,onClick:r=>u(e)},{default:i(()=>[p(x(e.title),1)]),_:2},1032,["onClick"]))),128))]),_:1})]))}}),Z={class:"space-y-8"},ee=n("div",null," New playlist ",-1),te={class:"flex flex-col space-y-2"},se={class:"flex justify-end space-x-2"},oe=m({__name:"PlaylistForm",emits:{onClose:()=>!0},setup(d,{emit:t}){const s=f(""),u=f(""),o=()=>{const _={id:"",title:s.value,tags:u.value.split(",").map(e=>e.trim()).filter(e=>e),musicIds:[]};$.save(_),t("onClose")};return(_,e)=>(l(),c("div",null,[a(U,null,{default:i(()=>[n("div",Z,[ee,n("div",te,[g(n("input",{type:"text",class:"w-96 border border-gray-300 rounded-md p-2",placeholder:"Playlist name","onUpdate:modelValue":e[0]||(e[0]=r=>s.value=r)},null,512),[[k,s.value]]),g(n("input",{type:"text",class:"w-96 border border-gray-300 rounded-md p-2",placeholder:"Tags","onUpdate:modelValue":e[1]||(e[1]=r=>u.value=r)},null,512),[[k,u.value]])]),n("div",se,[a(y,{onClick:o},{default:i(()=>[p(" Create ")]),_:1}),a(I,{onClick:e[2]||(e[2]=r=>t("onClose"))},{default:i(()=>[p(" Cancel ")]),_:1})])])]),_:1})]))}}),ne={class:"h-full flex flex-col space-y-8 p-4"},le=n("div",{class:"text-5xl"}," Simple Stage ",-1),ae={class:"space-x-2"},re={class:"space-y-12"},fe=m({__name:"Home",setup(d){const t=h(),s=f(!1);return(u,o)=>(l(),c("div",ne,[le,n("div",ae,[a(y,{onClick:o[0]||(o[0]=_=>j(t).push("/editor"))},{default:i(()=>[p(" Create a song ")]),_:1}),a(y,{onClick:o[1]||(o[1]=_=>s.value=!0)},{default:i(()=>[p(" Create a playlist ")]),_:1})]),n("div",re,[a(X),a(z),a(Y)]),s.value?(l(),C(oe,{key:0,onOnClose:o[2]||(o[2]=_=>s.value=!1)})):F("",!0)]))}});export{fe as default};
